# Copyright (C) 2016 Swift Navigation Inc.
# Contact: Dennis Zollo <dzollo@swiftnav.com>
#
# This source is subject to the license found in the file 'LICENSE' which must
# be be distributed together with this source. All other rights reserved.
#
# THIS CODE AND INFORMATION IS PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND,
# EITHER EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED
# WARRANTIES OF MERCHANTABILITY AND/OR FITNESS FOR A PARTICULAR PURPOSE.

package: swiftnav.sbp.orientation
description: Orientation Messages
stable: False
public: True
definitions:

 - MSG_BASELINE_HEADING:
    id: 0x020F
    short_desc: Heading relative to True North
    desc: |
      This message reports the baseline heading pointing from the base station
      to the rover relative to True North. The full GPS time is given by the
      preceding MSG_GPS_TIME with the matching time-of-week (tow). It is intended
      that time-matched RTK mode is used when the base station is moving.
    fields:
          - tow:
              type: u32
              units: ms
              desc: GPS Time of Week
          - heading:
              type: u32
              units: mdeg
              desc: Heading
          - n_sats:
              type: u8
              desc: Number of satellites used in solution
          - flags:
              type: u8
              desc: Status flags
              fields:
                - 7:
                    desc: RAIM repair flag
                    values:
                      - 0: No repair
                      - 1: Solution came from RAIM repair
                - 3-6:
                    desc: Reserved
                - 0-2:
                    desc: Fix mode
                    values:
                        - 0: Invalid
                        - 1: Reserved
                        - 2: Differential GNSS (DGNSS)
                        - 3: Float RTK
                        - 4: Fixed RTK

 - MSG_ORIENT_QUAT:
    id: 0x0220
    short_desc: Quaternion 4 component vector 
    desc: |
      This message reports the quaternion vector describing the vehicle orientation
      with respect to a local-level NED frame.  
    fields:
          - tow:
              type: u32
              units: ms
              desc: GPS Time of Week
          - w:
              type: s32
              units: N/A
              desc: Real component
          - x:
              type: s32
              units: N/A
              desc: 1st imaginary component
          - y:
              type: s32
              units: N/A
              desc: 2nd imaginary component
          - z:
              type: s32
              units: N/A
              desc: 3rd imaginary component
          - var_w:
              type: float
              units: N/A
              desc: Variance of w
          - var_x:
              type: float
              units: N/A
              desc: Variance of x
          - var_y:
              type: float
              units: N/A
              desc: Variance of y
          - var_z:
              type: float
              units: N/A
              desc: Variance of z
          - flags:
              type: u8
              desc: Status flags
              fields:
                - 2-7:
                    desc: Reserved
                - 0-1:
                    desc: INS status
                    values:
                        - 0: Not present
                        - 1: Error (see INS status msg)
                        - 2: Warning (see INS status msg)
                        - 3: Valid

 - MSG_ORIENT_EULER:
    id: 0x0221
    short_desc:  Euler angles
    desc: |
      This message reports the yaw, pitch, and roll angles of the vehicle body frame.
      The rotations should applied intrinsically in the order yaw, pitch, and roll 
      in order to rotate the from a frame aligned with hte local-level NED frame 
      to the vehicle body frame.
    fields:
          - tow:
              type: u32
              units: ms
              desc: GPS Time of Week
          - roll:
              type: s16
              units: milliradians 
              desc: rotation about the forward axis of the vehicle
          - pitch:
              type: s16
              units: milliradians
              desc: rotation about the rightward axis of the vehicle
          - yaw:
              type: s16
              units: milliradians
              desc: rotation about the downward axis of the vehicle
          - var_roll:
              type: float
              units: radians^2
              desc: Variance of roll
          - var_pitch:
              type: float
              units: radians^2
              desc: Variance of pitch
          - var_yaw:
              type: float
              units: radians^2
              desc: Variance of yaw
          - flags:
              type: u8
              desc: Status flags
              fields:
                - 2-7:
                    desc: Reserved
                - 0-1:
                    desc: INS status
                    values:
                        - 0: Not present
                        - 1: Error (see INS status msg)
                        - 2: Warning (see INS status msg)
                        - 3: Valid
 - MSG_ANGULAR_RATE:
    id: 0x0222
    short_desc: Vehicle Body Axis angular rates
    desc: |
      This message reports the orientation rates in the vehicle body frame. 
      The values represent the measurements a strapped down gyroscope would 
      make and are not equivalent to the time derivative of the Euler angles.
      By convention, the vehicle x-axis is expected to be aligned with the forward
      direction, while the vehicle y-axis is expected to be aligned with the right
      direction, and the vehicle z-axis should be aligned with the down direction.
    fields:
          - tow:
              type: u32
              units: ms
              desc: GPS Time of Week
          - x:
              type: s16
              units: milliradians/s
              desc: angular rate about x axis 
          - y:
              type: s16
              units: milliradians/s
              desc: angular rate about y axis 
          - z:
              type: s16
              units: milliradians/s
              desc: angular rate about z axis 
          - flags:
              type: u8
              desc: Status flags
              fields:
                - 2-7:
                    desc: Reserved
                - 0-1:
                    desc: INS status
                    values:
                        - 0: Not present
                        - 1: Error (see INS status msg)
                        - 2: Warning (see INS status msg)
                        - 3: Valid
